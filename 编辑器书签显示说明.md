# 编辑器书签显示说明

## 功能概述

在编辑器内容区域的右侧显示书签标记，让用户可以直观地看到书签在文档中的位置。

## 显示效果

### 书签标记位置
- **位置**：编辑器内容区域右侧边缘
- **对齐**：与书签所在行垂直对齐
- **图标**：橙色书签图标 📖

### 视觉设计
```
┌─────────────────────────────────────────┐
│ 工具栏                                   │
├─────────────────────────────────────────┤
│                                          │
│ 这是一段文本内容...              [📖]   │
│                                          │
│ 这里有一个书签标记              [📖]   │
│                                          │
│ 继续编辑内容...                         │
│                                          │
└─────────────────────────────────────────┘
```

## 交互功能

### 1. 悬停效果
- 鼠标悬停在书签图标上时：
  - 图标放大并显示阴影
  - 背景色变为橙色
  - 显示书签名称的提示框

### 2. 点击跳转
- 点击书签图标：
  - 光标自动跳转到书签位置
  - 编辑器滚动到对应位置
  - 显示"已跳转到书签位置"提示

### 3. 动态更新
- 添加新书签时，立即显示标记
- 删除书签时，标记自动消失
- 编辑内容时，书签标记位置自动更新

## 样式特点

### 颜色方案
- **默认状态**：
  - 图标颜色：橙色 (#fa8c16)
  - 背景色：浅橙色 (#fff7e6)
  - 边框：橙色边框 (#ffd591)

- **悬停状态**：
  - 图标颜色：白色
  - 背景色：橙色 (#fa8c16)
  - 阴影效果：橙色光晕

### 提示框样式
- 背景：深灰色 (#262626)
- 文字：白色
- 位置：书签图标左侧
- 带有指向图标的小三角

## 技术实现

### 位置计算
- 使用 Quill 编辑器的 `getBounds()` API 获取书签位置
- 根据行高动态计算标记的垂直位置
- 使用绝对定位将标记固定在右侧

### 自动更新
- 监听 `page.bookmarks` 和 `page.content` 变化
- 内容变化时重新渲染所有书签标记
- 确保标记位置始终准确

### 性能优化
- 每次更新前清除旧标记，避免重复
- 使用 try-catch 处理异常情况
- 仅在有书签时渲染标记

## 使用场景

1. **快速定位**：通过右侧的书签标记快速找到重要内容
2. **可视化导航**：一眼看出文档中有多少个书签及其分布
3. **便捷跳转**：点击标记即可跳转，无需打开书签列表
4. **编辑辅助**：在编辑长文档时，书签标记作为视觉参考点

## 布局调整

- 编辑器右侧留出 80px 空间用于显示书签标记
- 书签标记不会遮挡文本内容
- 滚动时书签标记随内容一起移动
