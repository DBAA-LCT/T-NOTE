# T-Note 图标配置说明

## 功能说明

现在软件支持两种不同的图标：
1. **应用程序图标**：显示在任务栏、桌面快捷方式等位置
2. **.note文件图标**：显示在文件资源管理器中的.note文件上

## 生成.note文件图标

### 方法1：使用HTML生成器（推荐）

1. 打开项目根目录下的 `build-note-icon.html` 文件
2. 点击"下载图标"按钮，会下载一个 `note-icon-256x256.png` 文件
3. 将下载的PNG文件转换为ICO格式：
   - 在线工具：https://convertio.co/zh/png-ico/
   - 或使用ImageMagick: `magick convert note-icon-256x256.png -define icon:auto-resize=256,128,64,48,32,16 note-icon.ico`
4. 将生成的 `note-icon.ico` 文件放到 `release/.icon-ico/` 目录下

### 方法2：使用现有图标

如果你想使用不同的图标，可以：
1. 准备一个256x256的PNG图标文件
2. 转换为ICO格式（包含多个尺寸：256, 128, 64, 48, 32, 16）
3. 命名为 `note-icon.ico`
4. 放到 `release/.icon-ico/` 目录下

## 双击打开.note文件

### 开发环境测试

在开发环境中，双击.note文件功能需要：
1. 运行 `npm run build` 构建应用
2. 运行 `npm run package` 打包应用
3. 安装打包后的应用程序
4. 双击.note文件即可用T-Note打开

### 生产环境

用户安装应用后：
1. Windows系统会自动关联.note文件到T-Note应用
2. .note文件会显示为文档图标（如果配置了note-icon.ico）
3. 双击.note文件会自动用T-Note打开

## 配置文件

相关配置在 `package.json` 的 `build.win.fileAssociations` 部分：

```json
"fileAssociations": [
  {
    "ext": "note",
    "name": "T-Note Document",
    "description": "T-Note笔记文件",
    "icon": "release/.icon-ico/note-icon.ico",
    "role": "Editor"
  }
]
```

## 注意事项

1. 图标文件必须是ICO格式，包含多个尺寸
2. 文件关联只在安装应用后生效
3. 如果修改了图标，需要重新打包和安装应用
4. 在开发环境中（npm run dev），双击文件功能可能不完全工作，需要打包后测试

## 测试步骤

1. 构建应用：`npm run build`
2. 打包应用：`npm run package`
3. 安装生成的安装程序（在 `release` 目录下）
4. 创建或保存一个.note文件
5. 双击该文件，应该会用T-Note打开
6. 检查文件图标是否显示为文档图标
