# 云同步功能测试指南

## 测试前准备

1. 确保已安装并启动应用
2. 准备一个 Microsoft 账户（用于 OneDrive）
3. 确保网络连接正常

## 测试用例

### 1. 连接 OneDrive 账户

**步骤：**
1. 点击左侧 OneDrive 图标
2. 点击"连接 OneDrive"
3. 在浏览器中登录 Microsoft 账户
4. 授权应用访问

**预期结果：**
- 成功连接后显示用户信息
- 显示"已连接"状态

### 2. 上传笔记 - 手动输入路径

**步骤：**
1. 创建或打开一个笔记
2. 点击"上传到云端"按钮
3. 在路径输入框中输入 `/TestNotes`
4. 点击"上传"

**预期结果：**
- 显示上传成功提示
- 笔记出现在云端笔记列表中

### 3. 上传笔记 - 使用文件夹浏览器

**步骤：**
1. 创建或打开一个笔记
2. 点击"上传到云端"按钮
3. 点击"浏览"按钮
4. 在文件夹浏览器中选择一个文件夹
5. 点击"确定"
6. 点击"上传"

**预期结果：**
- 文件夹浏览器正确显示 OneDrive 文件夹
- 选择的路径正确填入输入框
- 上传成功

### 4. 创建云端文件夹

**步骤：**
1. 点击"上传到云端"
2. 点击"浏览"
3. 点击"新建文件夹"
4. 输入文件夹名称 `MyNewFolder`
5. 点击"创建"

**预期结果：**
- 文件夹创建成功
- 新文件夹出现在列表中
- 自动选中新创建的文件夹

### 5. 查看云端笔记列表

**步骤：**
1. 点击左侧"云端笔记"图标
2. 查看列表内容
3. 点击"刷新"按钮

**预期结果：**
- 显示所有已上传的笔记
- 显示笔记名称、更新时间、大小
- 标记已在本地存在的笔记
- 刷新后列表更新

### 6. 下载笔记到本地

**步骤：**
1. 在云端笔记列表中找到一个笔记
2. 点击"下载"按钮
3. 确认笔记信息
4. 点击"下载"
5. 在文件保存对话框中选择保存位置
6. 确认保存

**预期结果：**
- 显示笔记详细信息
- 文件保存对话框正确弹出
- 笔记成功保存到选择的位置
- 显示下载成功提示

### 7. 下载已存在的笔记

**步骤：**
1. 找到一个标记为"本地已有"的笔记
2. 点击"下载"按钮
3. 选择保存位置（与现有文件相同）

**预期结果：**
- 系统提示文件已存在
- 可以选择覆盖或取消

### 8. 上传到多级文件夹

**步骤：**
1. 点击"上传到云端"
2. 输入路径 `/Notes/Work/Projects`
3. 点击"上传"

**预期结果：**
- 如果文件夹不存在，自动创建
- 笔记成功上传到指定路径

### 9. 网络断开测试

**步骤：**
1. 断开网络连接
2. 尝试上传笔记
3. 尝试查看云端列表

**预期结果：**
- 显示网络错误提示
- 不会崩溃或卡死

### 10. 大文件上传测试

**步骤：**
1. 创建一个包含大量内容的笔记（多个页面，大量文本）
2. 上传到云端

**预期结果：**
- 上传过程显示进度（如果实现）
- 大文件成功上传
- 文件大小正确显示

## 边界情况测试

### 1. 空笔记上传
- 创建一个没有任何页面的笔记
- 尝试上传

### 2. 特殊字符文件夹名
- 尝试创建包含特殊字符的文件夹
- 应该显示错误提示

### 3. 重复上传
- 上传同一个笔记两次
- 第二次应该覆盖第一次

### 4. 取消操作
- 在上传对话框中点击取消
- 在下载对话框中点击取消
- 在文件保存对话框中点击取消

### 5. 存储空间不足
- 如果 OneDrive 空间不足
- 应该显示明确的错误提示

## 性能测试

### 1. 文件夹加载速度
- 测试加载大量文件夹的速度
- 应该在合理时间内完成

### 2. 列表刷新速度
- 测试刷新云端笔记列表的速度
- 应该快速响应

### 3. 上传下载速度
- 测试不同大小文件的上传下载速度
- 应该与网络速度相符

## 已知问题

记录测试中发现的问题：

1. 
2. 
3. 

## 测试结果

| 测试用例 | 状态 | 备注 |
|---------|------|------|
| 连接账户 | ⬜ 未测试 | |
| 手动输入路径上传 | ⬜ 未测试 | |
| 浏览器选择上传 | ⬜ 未测试 | |
| 创建云端文件夹 | ⬜ 未测试 | |
| 查看云端列表 | ⬜ 未测试 | |
| 下载笔记 | ⬜ 未测试 | |
| 下载已存在笔记 | ⬜ 未测试 | |
| 多级文件夹上传 | ⬜ 未测试 | |
| 网络断开 | ⬜ 未测试 | |
| 大文件上传 | ⬜ 未测试 | |

状态说明：
- ⬜ 未测试
- ✅ 通过
- ❌ 失败
- ⚠️ 部分通过
